<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_25) on Sat Feb 06 22:02:48 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Dispatcher (Instrument Control (iC))</title>
<meta name="date" content="2016-02-06">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Dispatcher (Instrument Control (iC))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Dispatcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../icontrol/AutoGUIAnnotation.html" title="annotation in icontrol"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../icontrol/GUI_Interface.html" title="interface in icontrol"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?icontrol/Dispatcher.html" target="_top">Frames</a></li>
<li><a href="Dispatcher.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">icontrol</div>
<h2 title="Class Dispatcher" class="title">Class Dispatcher</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>icontrol.Dispatcher</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public final class <span class="typeNameLabel">Dispatcher</span>
extends java.lang.Thread</pre>
<div class="block">Dispatcher class of Instrument Control.<p>

 This class  obtains a list of Script-Commands and dispatches the Script-Commands
 to the Device class which in turn dispatches them to the appropriate
 instances of the Instrument-Classes. Processing of the script is done in a
 separate task.<p>

 In essence, this class iterates through all Command-Lines in the Script and
 <ul>
  <li> ignores comment lines marked by either '%' (Matlab style) or '//' (C style)
  <li> handles the Framework-Commands listed below
  <li> dispatches the Command-Lines to <code>Device.DispatchCommand</code>,
       which in turn dispatches the Device-Command to the appropriate
       instrument object
  <li> keeps a HashMap of all Used Instruments (<code>m_UsedInstruments</code>)
  <li> Shows error messages to the user if an error occurred during processing the
       Script
 </ul><p>


 <h3>Supported Framework-Commands:</h3>
 <ul>
 <li> A whitespace separates the Framework-Command from it's Argument-List, and
      individual entries in the Argument-List are separated by
      <code>DELIMITER</code>, which is a semicolon (;).
 </li>

 <li> MAKE Instrument-Name; Instrument-Class; GPIB_Address
 </li>
      <ul>
      <li>Instantiates a new instrument.</li>
      <li>Instrument-Name: with this name the instrument can be accessed from the script.</li>
      <li>Instrument-Class: this specified the 'type' of instrument (for instance a
          Lakeshore 340 temperature controller or a Agilent 4155 parameter analyzer).</li>
      <li>GPIB_Address: this is the GPIB address that is set at the instrument.<br>
          Note that the GPIB_Address starts with the String "GPIB" followed by
          the Integer valued GPIB Address (range: 0..31). Any additional non-digit
          letters and symbols are disregarded, allowing to write for instance
          "GPIB @9" instead of only "GPIB9".</li>
      </ul>
  <li> INCLUDE FileName</li>
      <ul>
      <li>Includes an external file as a Sub-Script in the current script</li>
      <li>If FileName does not specify a path (no file separator (e.g. '\') is
          specified, the default path specified in
          <code>iC_Properties.getPath("iC.DefaultPath", "$user.home$/iC")</code>
          is used.</li>
      <li>If no file extension was specified (FileName does not contain
          a '.', the default extension '.iC' is added.</li>
      <li>Sub-Scripts can contain MAKE commands, but these Instrument-Names are not
          shown in the GUI's Instrument-List.</li>
      <li>Sub-Scripts can INCLUDE other Sub-Scripts.</li>
      </ul>
 </ul></div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>0.4</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>KPP (Kurt Pernstich: pernstich@alumni.ethz.ch)</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>Dispatcher#DELIMITER</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#m_CommandList">m_CommandList</a></span></code>
<div class="block">Holds the list of command strings to process.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#m_ErrorOccurred">m_ErrorOccurred</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../icontrol/GUI_Interface.html" title="interface in icontrol">GUI_Interface</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#m_GUI">m_GUI</a></span></code>
<div class="block">Holds a "reference" to the instance of the View-class to enable access 
 it's methods.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../icontrol/iC_Properties.html" title="class in icontrol">iC_Properties</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#m_iC_Properties">m_iC_Properties</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#m_IncludedLines">m_IncludedLines</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.logging.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#m_Logger">m_Logger</a></span></code>
<div class="block">The Logger for this class</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.TreeMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#m_RegisteredInstruments">m_RegisteredInstruments</a></span></code>
<div class="block">Instrument-Class-Name / Instrument-Class pairs of all available
 Instruments, for example: Lakeshore 332 / icontrol.instruments.Lakeshore332, 
 SRS DS345 / icontrol.instruments.iC_GenericGPIB.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#m_StopSequencing">m_StopSequencing</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#m_SyntaxCheckMode">m_SyntaxCheckMode</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.HashMap&lt;java.lang.String,<a href="../icontrol/drivers/Device.html" title="class in icontrol.drivers">Device</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#m_UsedInstruments">m_UsedInstruments</a></span></code>
<div class="block">Instrument-Name / Instrument-Instance pairs of the Instruments used in the
 script.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#PACKAGE_NAME">PACKAGE_NAME</a></span></code>
<div class="block">Package name used to register all instrument classes and in 
 <code>Device</code>'s constructor to append Termination Characters</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#Dispatcher-icontrol.GUI_Interface-">Dispatcher</a></span>(<a href="../icontrol/GUI_Interface.html" title="interface in icontrol">GUI_Interface</a>&nbsp;GUI)</code>
<div class="block">Default constructor that assigns the given parameters.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#getErrorFlag--">getErrorFlag</a></span>()</code>
<div class="block">Returns the Error Flag of the Dispatcher.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.TreeMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#getRegisteredInstruments--">getRegisteredInstruments</a></span>()</code>
<div class="block">Default Getter method for the HashMap containing all the 
 registered Instruments.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.HashMap&lt;java.lang.String,<a href="../icontrol/drivers/Device.html" title="class in icontrol.drivers">Device</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#getUsedInstruments--">getUsedInstruments</a></span>()</code>
<div class="block">Default Getter method for the HashMap containing all the 
 used Instruments.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#HandleIncludeCommand-java.util.ArrayList-int-java.util.ArrayList-">HandleIncludeCommand</a></span>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;CommandList,
                    int&nbsp;Index,
                    java.util.ArrayList&lt;java.lang.String&gt;&nbsp;Arguments)</code>
<div class="block">Handles an 'INCLUDE' command.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#HandleMakeCommand-java.util.ArrayList-">HandleMakeCommand</a></span>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;Arguments)</code>
<div class="block">Handles a 'MAKE' command.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#RegisterDeviceClasses--">RegisterDeviceClasses</a></span>()</code>
<div class="block">Populates a HashMap of Instrument-Class-Name / Instrument-Class pairs.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#run--">run</a></span>()</code>
<div class="block">This is the actual thread that processes the command strings.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#setCommandList-java.util.ArrayList-">setCommandList</a></span>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;CommandList)</code>
<div class="block">Setter method for <code>m_CommandList</code>, which holds the
 Command Lines to process.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#setSimulationModeGlobal-boolean-">setSimulationModeGlobal</a></span>(boolean&nbsp;SimulationMode)</code>
<div class="block">Sets the simulation mode of all instruments derived from <code>Device</code>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#setSyntaxCheckMode-boolean-">setSyntaxCheckMode</a></span>(boolean&nbsp;SyntaxCheckMode)</code>
<div class="block">Sets the value of the setSyntaxCheckMode.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../icontrol/Dispatcher.html#StopScripting--">StopScripting</a></span>()</code>
<div class="block">Call this to stop processing the script.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, clone, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, toString, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="m_GUI">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_GUI</h4>
<pre>private&nbsp;<a href="../icontrol/GUI_Interface.html" title="interface in icontrol">GUI_Interface</a> m_GUI</pre>
<div class="block">Holds a "reference" to the instance of the View-class to enable access 
 it's methods.</div>
</li>
</ul>
<a name="m_CommandList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_CommandList</h4>
<pre>private&nbsp;java.util.ArrayList&lt;java.lang.String&gt; m_CommandList</pre>
<div class="block">Holds the list of command strings to process. This list is not changed
 and assigned from <code>IcontrolView</code>.</div>
</li>
</ul>
<a name="m_UsedInstruments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_UsedInstruments</h4>
<pre>private&nbsp;java.util.HashMap&lt;java.lang.String,<a href="../icontrol/drivers/Device.html" title="class in icontrol.drivers">Device</a>&gt; m_UsedInstruments</pre>
<div class="block">Instrument-Name / Instrument-Instance pairs of the Instruments used in the
 script. The Instrument-Name (or variable name, for instance Tsample, PA, 
 srs ...) used to access the instrument from the script is used as a key 
 to the HashMap. It is populated in <code>HandleMakeCommand</code>.</div>
</li>
</ul>
<a name="m_RegisteredInstruments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_RegisteredInstruments</h4>
<pre>private&nbsp;java.util.TreeMap&lt;java.lang.String,java.lang.String&gt; m_RegisteredInstruments</pre>
<div class="block">Instrument-Class-Name / Instrument-Class pairs of all available
 Instruments, for example: Lakeshore 332 / icontrol.instruments.Lakeshore332, 
 SRS DS345 / icontrol.instruments.iC_GenericGPIB. Every new Device-class 
 needs to be registered here to be accessible from the script. 

 The Instrument-Class-Name is used to populate the ComboBox that allows to 
 add MAKE commands. It is also used in <code>Device.DispatchCommand</code> 
 to identify the instances the Script-Command is passed to, and in 
 <code>IcontrolView.jInstrumentNameSelected</code> to search all available
 Script-Methods.<p>
    
 The Instrument-Class is a String that contains the actual class name
 of the class that implements the functionality of that Instrument. Note 
 that it must contain the full class name including package, that is 
 icontrol.drivers.instruments.lakeshore.Lakeshore340 not only Lakeshore340. 
 Generic GPIB Instruments register as class <code>iC_GenericGPIB</code>,
 Generic RS232 Instruments as class <code>iC_GenericRS232</code>, etc.<p>
 
 A TreeMap is a sorted HashMap.</div>
</li>
</ul>
<a name="m_SyntaxCheckMode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_SyntaxCheckMode</h4>
<pre>private&nbsp;boolean m_SyntaxCheckMode</pre>
</li>
</ul>
<a name="m_ErrorOccurred">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_ErrorOccurred</h4>
<pre>private&nbsp;boolean m_ErrorOccurred</pre>
</li>
</ul>
<a name="m_StopSequencing">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_StopSequencing</h4>
<pre>private&nbsp;boolean m_StopSequencing</pre>
</li>
</ul>
<a name="m_IncludedLines">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_IncludedLines</h4>
<pre>private&nbsp;int m_IncludedLines</pre>
</li>
</ul>
<a name="m_iC_Properties">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_iC_Properties</h4>
<pre>private&nbsp;<a href="../icontrol/iC_Properties.html" title="class in icontrol">iC_Properties</a> m_iC_Properties</pre>
</li>
</ul>
<a name="m_Logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_Logger</h4>
<pre>private static final&nbsp;java.util.logging.Logger m_Logger</pre>
<div class="block">The Logger for this class</div>
</li>
</ul>
<a name="PACKAGE_NAME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PACKAGE_NAME</h4>
<pre>public static final&nbsp;java.lang.String PACKAGE_NAME</pre>
<div class="block">Package name used to register all instrument classes and in 
 <code>Device</code>'s constructor to append Termination Characters</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#icontrol.Dispatcher.PACKAGE_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Dispatcher-icontrol.GUI_Interface-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Dispatcher</h4>
<pre>Dispatcher(<a href="../icontrol/GUI_Interface.html" title="interface in icontrol">GUI_Interface</a>&nbsp;GUI)</pre>
<div class="block">Default constructor that assigns the given parameters.
 Creates a new HashMap that stores the Instruments used by the script.
 Also calls <code>RegisterGenericDeviceClasses</code> which registers all
 available Instrument-Classes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>GUI</code> - is used to reference methods in the View-class (e.g. display status messages)</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setSimulationModeGlobal-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSimulationModeGlobal</h4>
<pre>public&nbsp;void&nbsp;setSimulationModeGlobal(boolean&nbsp;SimulationMode)</pre>
<div class="block">Sets the simulation mode of all instruments derived from <code>Device</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>SimulationMode</code> - if <code>true</code>, all instruments are set into
 a simulation mode where no GPIB communication takes place</dd>
</dl>
</li>
</ul>
<a name="setSyntaxCheckMode-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSyntaxCheckMode</h4>
<pre>public&nbsp;void&nbsp;setSyntaxCheckMode(boolean&nbsp;SyntaxCheckMode)</pre>
<div class="block">Sets the value of the setSyntaxCheckMode. In setSyntaxCheckMode
 the InstrumentCommands (methods in the Instrument classes)
 are not called by the dispatcher, unless the bare an
 <code>iC_Annotation</code> with <code>ChecksSyntax</code>=true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>SyntaxCheckMode</code> - the new value of the <code>SyntaxCheckMode</code></dd>
</dl>
</li>
</ul>
<a name="getErrorFlag--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getErrorFlag</h4>
<pre>public&nbsp;boolean&nbsp;getErrorFlag()</pre>
<div class="block">Returns the Error Flag of the Dispatcher. When true, then an error occurred
 during processing the script, for instance in SyntaxCheckMode</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if an error occurred during dispatching the commands or in
 SyntaxCheckMode</dd>
</dl>
</li>
</ul>
<a name="getRegisteredInstruments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegisteredInstruments</h4>
<pre>public&nbsp;java.util.TreeMap&lt;java.lang.String,java.lang.String&gt;&nbsp;getRegisteredInstruments()</pre>
<div class="block">Default Getter method for the HashMap containing all the 
 registered Instruments. Make sure the returned value is not changed because
 the compiler can't.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A HashMap of all registered Instruments</dd>
</dl>
</li>
</ul>
<a name="getUsedInstruments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsedInstruments</h4>
<pre>public&nbsp;java.util.HashMap&lt;java.lang.String,<a href="../icontrol/drivers/Device.html" title="class in icontrol.drivers">Device</a>&gt;&nbsp;getUsedInstruments()</pre>
<div class="block">Default Getter method for the HashMap containing all the 
 used Instruments. Make sure the returned value is not changed because
 the compiler can't.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A HashMap of all registered Instruments</dd>
</dl>
</li>
</ul>
<a name="setCommandList-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCommandList</h4>
<pre>public&nbsp;void&nbsp;setCommandList(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;CommandList)</pre>
<div class="block">Setter method for <code>m_CommandList</code>, which holds the
 Command Lines to process.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>CommandList</code> - holds all command lines (the script)</dd>
</dl>
</li>
</ul>
<a name="RegisterDeviceClasses--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RegisterDeviceClasses</h4>
<pre>private&nbsp;void&nbsp;RegisterDeviceClasses()</pre>
<div class="block">Populates a HashMap of Instrument-Class-Name / Instrument-Class pairs.
 The Instrument-Class-Name is the String used in a script to identify the
 Instrument Model (Lakeshore 340, Agilent 4155, ...). It can contain spaces
 but no <code>DELIMITER</code>, which is semicolon (;). The Instrument-Class-Name
 is used by the <code>Dispatcher</code> to route commands to the
 Instrument-Class.
 Note that an Instrument-Class is not allowed to have multiple
 Instrument-Class-Names in this HashMap, but it would be allowed to add
 an additional clause in <code>Dispatcher</code> to enable multiple
 variant spellings of the same instrument (Lakeshore 340, Lakeshore_340,
 Lakeshore340, ...).</div>
</li>
</ul>
<a name="StopScripting--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StopScripting</h4>
<pre>public&nbsp;void&nbsp;StopScripting()</pre>
<div class="block">Call this to stop processing the script. This 'signal' is also
 propagated to the Device class, hence, all Instruments can stop
 processing any thread they might run (for instance <code>MonitorTemp</code>.
 After propagating the Stop signal to the devices, this method waits
 200 ms before returning to ensure that the Stop signal is processed in
 all dependent Devices and threads.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../icontrol/drivers/instruments/iC_Instrument.html#MonitorChart-float-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-"><code>iC_Instrument.MonitorChart(float, String, String, String, String, String, String, String)</code></a></dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">This is the actual thread that processes the command strings. It splits each
 Command Line into Tokens, and calls either <code>HandleMakeCommand</code>,
 <code>HandleIncludeCommand</code>, or dispatches the Command Line to
 <code>Device#DispatchCommand</code>. It catches ScriptExceptions and
 IOExceptions and performs some clean up after the Script has been processed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>run</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="HandleMakeCommand-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HandleMakeCommand</h4>
<pre>private&nbsp;void&nbsp;HandleMakeCommand(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;Arguments)
                        throws javax.script.ScriptException,
                               java.io.IOException</pre>
<div class="block">Handles a 'MAKE' command. <p>
 General structure: <br>
 MAKE InstrumentName InstrumentClass; GPIB address or<br>
 MAKE InstrumentName InstrumentClass; RS232 port parameters or<br>
 MAKE InstrumentName InstrumentClass; URL (IP address or host name)
 <p>

 The Argument string is split into tokens and a new object of the
 specified Instrument is created and stored in a HashMap.
 Some error checking if the script command is correct is also done.<p>

 The InstrumentName is case-sensitive and must not contain spaces.<p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>Arguments</code> - contains the parameters for the MAKE command</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.script.ScriptException</code> - for various reasons. Use <code>getText</code> to
 see details about what caused the exception.</dd>
<dd><code>java.io.IOException</code> - when communication with the Instrument failed.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../icontrol/drivers/Device.html#OpenGPIB-int-"><code>Device.OpenGPIB(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="HandleIncludeCommand-java.util.ArrayList-int-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HandleIncludeCommand</h4>
<pre>protected&nbsp;void&nbsp;HandleIncludeCommand(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;CommandList,
                                    int&nbsp;Index,
                                    java.util.ArrayList&lt;java.lang.String&gt;&nbsp;Arguments)
                             throws javax.script.ScriptException</pre>
<div class="block">Handles an 'INCLUDE' command. <p>
 General structure: INCLUDE ScriptFile<br>
 ScriptFile can either be a 'regular' iC script or a Python script.
 <p>

 The ScriptFile can contain a fully qualified path. If no path is
 specified (no file with only ScriptFile as file name is found, the file
 to include is first searched in the Project Directory, then in the default
 directory specified in 
 <code>iC_Properties.getPath("iC.DefaultPath", "$user.home$/iC")</code>).
 If no file extension was specified (ScriptFile does not contain
 a '.', the default extension '.iC' is added. Sub-Scripts can MAKE new
 Instruments and these Instruments are now shown in the GUI's 
 Instrument-List. If the FileName ends in .py, the script is executed by 
 the Python Interpreter.<p>

 The command lines contained in the specified script are included in the
 script at the line following the INCLUDE command. The new command lines are
 not shown to the user. In case of an error, the line number in the Sub-Script
 might not be correct if two INCLUDE commands are closer together than the line count
 of the first Sub-Script, or if the error occurs in the last line of the
 INCLUDED script. It's not so important because the line is shown
 anyways, so I will ignore this for the moment.<p>
 
 
 This method is also called from the view to properly handle sub-scripts 
 on load.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>CommandList</code> - contains the Strings comprising the original Script</dd>
<dd><code>Index</code> - the index of the INCLUDE command in the CommandList.</dd>
<dd><code>Arguments</code> - contains the file name of the script file to include</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.script.ScriptException</code> - when 1) the script file could not be found, or 2)
 an IO-error occurred during reading from the file, or 3) a Python error
 occurred during executing a Python Script.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Dispatcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../icontrol/AutoGUIAnnotation.html" title="annotation in icontrol"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../icontrol/GUI_Interface.html" title="interface in icontrol"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?icontrol/Dispatcher.html" target="_top">Frames</a></li>
<li><a href="Dispatcher.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

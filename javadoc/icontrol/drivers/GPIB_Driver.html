<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_25) on Sat Feb 06 22:02:51 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GPIB_Driver (Instrument Control (iC))</title>
<meta name="date" content="2016-02-06">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GPIB_Driver (Instrument Control (iC))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GPIB_Driver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../icontrol/drivers/GenericRS232.html" title="class in icontrol.drivers"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../icontrol/drivers/GPIB_IOtech.html" title="class in icontrol.drivers"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?icontrol/drivers/GPIB_Driver.html" target="_top">Frames</a></li>
<li><a href="GPIB_Driver.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">icontrol.drivers</div>
<h2 title="Class GPIB_Driver" class="title">Class GPIB_Driver</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>icontrol.drivers.GPIB_Driver</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../icontrol/drivers/GPIB_IOtech.html" title="class in icontrol.drivers">GPIB_IOtech</a>, <a href="../../icontrol/drivers/GPIB_NI.html" title="class in icontrol.drivers">GPIB_NI</a>, <a href="../../icontrol/drivers/GPIB_NI64.html" title="class in icontrol.drivers">GPIB_NI64</a>, <a href="../../icontrol/drivers/GPIB_Prologix.html" title="class in icontrol.drivers">GPIB_Prologix</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">GPIB_Driver</span>
extends java.lang.Object</pre>
<div class="block">Abstract class defining the required methods for a derived class to be
 recognized as a GPIB driver. At the time of writing, two derived classes
 (<code>GPIB_NI</code> and <code>GPIB_Prologix</code>) implement this
 'interface'. This class is defined abstract, as opposed to be defined as an
 Interface, because 1) an Interface only allows public methods, and 2) it
 is unlikely that a derived class would like to extend an other class as well.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>0.1</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>KPP (Kurt Pernstich: pernstich@alumni.ethz.ch)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.util.logging.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#m_Comm_Logger">m_Comm_Logger</a></span></code>
<div class="block">The Comm Logger</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="../../icontrol/GUI_Interface.html" title="interface in icontrol">GUI_Interface</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#m_GUI">m_GUI</a></span></code>
<div class="block">Holds a reference to the <code>IcontrolView</code> class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#GPIB_Driver--">GPIB_Driver</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#CloseController--">CloseController</a></span>()</code>
<div class="block">Closes the connection to the GPIB controller.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#CloseInstrument--">CloseInstrument</a></span>()</code>
<div class="block">Closes the connection to the Instrument specified in <code>Open</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected abstract java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#getGPIBStatus--">getGPIBStatus</a></span>()</code>
<div class="block">Gets the Status of the last GPIB call.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#Open-int-">Open</a></span>(int&nbsp;GPIB_Address)</code>
<div class="block">Opens the connection to the Instrument at the specified GPIB address.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#ReadStatusByte--">ReadStatusByte</a></span>()</code>
<div class="block">Reads the Status Byte of the Instrument defined in <code>Open</code>
 by serially polling the Instrument.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected abstract java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#Receive-boolean-">Receive</a></span>(boolean&nbsp;Trim)</code>
<div class="block">Receives data from the Instrument specified in <code>Open</code>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected abstract long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#Send-java.lang.String-">Send</a></span>(java.lang.String&nbsp;Msg)</code>
<div class="block">Sends the given String via the GPIB bus to the Instrument specified in
 <code>Open</code> and returns the number of bytes actually sent.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../icontrol/drivers/GPIB_Driver.html#SpeedTest-int-">SpeedTest</a></span>(int&nbsp;NrIterations)</code>
<div class="block">Used to test the speed of the GPIB controller.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="m_Comm_Logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m_Comm_Logger</h4>
<pre>protected static final&nbsp;java.util.logging.Logger m_Comm_Logger</pre>
<div class="block">The Comm Logger</div>
</li>
</ul>
<a name="m_GUI">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>m_GUI</h4>
<pre>protected static final&nbsp;<a href="../../icontrol/GUI_Interface.html" title="interface in icontrol">GUI_Interface</a> m_GUI</pre>
<div class="block">Holds a reference to the <code>IcontrolView</code> class. Using getView 
 to get a handle to the View (to use DisplayStatusMessage etc.) was introduced 
 with JUnit tests on 120727 (v1.3.469).</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="GPIB_Driver--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GPIB_Driver</h4>
<pre>public&nbsp;GPIB_Driver()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="Open-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Open</h4>
<pre>protected abstract&nbsp;void&nbsp;Open(int&nbsp;GPIB_Address)
                      throws java.io.IOException</pre>
<div class="block">Opens the connection to the Instrument at the specified GPIB address.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>GPIB_Address</code> - The primary GPIB address of the Instrument</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - When a GPIB transaction caused a GPIB error (bubbles
 up from <code>checkErrorGPIB</code>.</dd>
</dl>
</li>
</ul>
<a name="Send-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Send</h4>
<pre>protected abstract&nbsp;long&nbsp;Send(java.lang.String&nbsp;Msg)
                      throws java.io.IOException</pre>
<div class="block">Sends the given String via the GPIB bus to the Instrument specified in
 <code>Open</code> and returns the number of bytes actually sent.<p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>Msg</code> - Data to be sent</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Number of data bytes actually sent</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - When the transmission caused a GPIB error</dd>
</dl>
</li>
</ul>
<a name="Receive-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Receive</h4>
<pre>protected abstract&nbsp;java.lang.String&nbsp;Receive(boolean&nbsp;Trim)
                                     throws java.io.IOException</pre>
<div class="block">Receives data from the Instrument specified in <code>Open</code>.
 The number of Bytes that are requested from the Instrument should be specified
 by <code>RECEIVE_BUFFER_SIZE</code>, which, in turn, should be specified in the
 iC.property file. Currently this value is 150000 which has proven useful
 in my personal experience. Increase this value if an Instrument places
 more data in the output queue. A number which is too small will most
 likely result in an erroneous transmission (<code>Receive</code> does
 not check if all data bytes have been read).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>Trim</code> - If <code>true</code>, newline (\n) and carriage return (\r)
 characters are removed from the end of the returned String.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The data bytes sent by the Instrument wrapped in a String.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - When the transmission caused a GPIB error</dd>
</dl>
</li>
</ul>
<a name="getGPIBStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGPIBStatus</h4>
<pre>protected abstract&nbsp;java.lang.String&nbsp;getGPIBStatus()</pre>
<div class="block">Gets the Status of the last GPIB call. After each GPIB call, the
 error flag in the Status Byte should, ideally, be checked. If an error
 occurred, this method returns a String with a short description of what
 went wrong. If an error occurred, it should be logged to the Comm Logger.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>When an error occurred during the last GPIB call, the returned
 String contains a somewhat helpful explanation of what went
 wrong. An empty String is returned if no error occurred.</dd>
</dl>
</li>
</ul>
<a name="ReadStatusByte--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ReadStatusByte</h4>
<pre>public abstract&nbsp;int&nbsp;ReadStatusByte()
                            throws java.io.IOException</pre>
<div class="block">Reads the Status Byte of the Instrument defined in <code>Open</code>
 by serially polling the Instrument. <code>Open</code> must have been
 called before calling this method.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Status Byte of the Instrument</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - When the transmission caused a GPIB error</dd>
</dl>
</li>
</ul>
<a name="CloseInstrument--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CloseInstrument</h4>
<pre>protected abstract&nbsp;void&nbsp;CloseInstrument()
                                 throws java.io.IOException</pre>
<div class="block">Closes the connection to the Instrument specified in <code>Open</code>.
 This method is called from <code>Dispatcher.run</code> after the Script
 has been processed.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - When the closing caused a GPIB error</dd>
</dl>
</li>
</ul>
<a name="CloseController--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CloseController</h4>
<pre>protected abstract&nbsp;void&nbsp;CloseController()
                                 throws java.io.IOException</pre>
<div class="block">Closes the connection to the GPIB controller. This method is called from
 <code>Dispatcher.run</code> after the Script has been processed.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - When the closing caused a GPIB error</dd>
</dl>
</li>
</ul>
<a name="SpeedTest-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SpeedTest</h4>
<pre>protected&nbsp;void&nbsp;SpeedTest(int&nbsp;NrIterations)</pre>
<div class="block">Used to test the speed of the GPIB controller. Enable the Speed Test in
 the <code>Open</code> method respectively issue the ScriptCommand
 SpeedTest NrIterations (no Auto GUI is specified for this Script Command).

 Initial tests with a very limited number of test cases gave the following
 results:<br>
 Upon testing the speed with the National Instruments PCI-GPIB controller
 on WinXP (rack computer) the average time between successive IDN queries
 of a Lakeshore 340 was 31 ms. It never exceeded 32 ms, and sometimes it
 was as short as 16 ms. Again, only a very limited number of test cases was
 considered.<p>

 Upon testing the speed with a Prologix GPIB-USB controller on WinXP (rack
 computer, Lakeshore 340) it was found necessary to set a minimal USB
 TimeOut value of 35 ms. While 50 ms worked very often, long time tests
 indicated that 50 ms might be too short, hence, 75 ms is recommended. The
 maximum total turn-around time was 47 ms (for 35 ms delay), 63 ms (for
 50 ms delay) and 79 ms (for 75 ms delay).<p>
 In the initial tests only a very low number of test cases were considered.
 See also iC_Test_Protocol.txt.<p>

 Using a National Instruments GPIB-USB-HS on a Mac resulted in average
 turn around times of 16 ms (maximum 26 ms) for a SRS DS345.<p></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GPIB_Driver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../icontrol/drivers/GenericRS232.html" title="class in icontrol.drivers"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../icontrol/drivers/GPIB_IOtech.html" title="class in icontrol.drivers"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?icontrol/drivers/GPIB_Driver.html" target="_top">Frames</a></li>
<li><a href="GPIB_Driver.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
